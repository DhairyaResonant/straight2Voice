@isTest
global class SingleRequestMock implements HttpCalloutMock {
    
    
    global HttpResponse respond(HTTPRequest req) {
        system.debug('req.getEndpoint() ::::::::::::::' + req.getEndpoint());
        if(req.getEndpoint() == 'https://testusername.com/api/v1/user/?limit=100&offset=0&format=json'){
            System.debug('Inside IFFFFFF :::::::::::::::::::::::::::');
            String username = 'thanhtruong217@gmail.com';
            String password = 'admin12!';
            String body = '{"meta": {"limit": 20, "next": "/api/v1/user/?offset=20&limit=20&format=json", "offset": 0, "previous": null, "total_count": 389}, "objects": [{"address": "", "company": "", "concurrent_call_limit": 8, "credit": "13.0000", "email": "mark.richards@marxtechnoloqwqwqgy.com.au", "first_name": "Mark", "last_credit_purchase_date": "2016-12-12 11:17:20.177000+00:00", "last_credit_usage_date": "2017-09-19 04:38:40.153127+00:00", "last_name": "Richards", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 739, "lm_sms": 0, "lm_voicemail": 0, "phone": "0416828575", "resource_uri": "/api/v1/user/397/", "scheduler_email_cdr_report": "daily", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "7/39 Addison Road", "company": "Aconference Pty Ltd", "concurrent_call_limit": 10, "credit": "538.0000", "email": "nick@meetingtime.com.au", "first_name": "Nick", "last_credit_purchase_date": "2015-04-25 03:43:30+00:00", "last_credit_usage_date": "2017-12-05 06:42:53.175642+00:00", "last_name": "", "last_purchase": 1000, "ll_sms": 0, "ll_vm": 4341, "lll_sms": 0, "lll_vm": 4672, "lm_sms": 0, "lm_voicemail": 39, "phone": "280063522", "resource_uri": "/api/v1/user/39/", "scheduler_email_cdr_report": "daily", "sms": 0, "sms_mask": "PenCS", "status": "Paying Customer", "sure_name": "nick", "timezone": "Australia/Sydney", "voicemail": 39, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 6, "credit": "0.0000", "email": "tisustaffs@hotmail.com", "first_name": "Timmothy", "last_credit_purchase_date": "2016-03-14 23:27:42+00:00", "last_credit_usage_date": "None", "last_name": "Orr ", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0415097636", "resource_uri": "/api/v1/user/237/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "Level1, 609 Harris Street", "company": "The Entourage", "concurrent_call_limit": 15, "credit": "880.0000", "email": "keelyw@the-entourage.com.au", "first_name": "The Entourage", "last_credit_purchase_date": "2017-09-07 04:46:30.896959+00:00", "last_credit_usage_date": "2017-11-24 05:14:47.660007+00:00", "last_name": "Entourage", "last_purchase": 1000, "ll_sms": 0, "ll_vm": 24, "lll_sms": 0, "lll_vm": 872, "lm_sms": 0, "lm_voicemail": 1071, "phone": "1300496488", "resource_uri": "/api/v1/user/276/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Paying Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 1071, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "0.0000", "email": "mikael.wolfe@icloud.com", "first_name": "Mikael", "last_credit_purchase_date": "2016-09-11 20:13:53+00:00", "last_credit_usage_date": "None", "last_name": "Wolfe", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0459603411", "resource_uri": "/api/v1/user/341/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Queensland", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "0.0000", "email": "bbachman@bigscreensonthego.com", "first_name": "Brian", "last_credit_purchase_date": "2016-04-13 20:02:24+00:00", "last_credit_usage_date": "None", "last_name": "Bachman", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "21499570390", "resource_uri": "/api/v1/user/262/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "US/Central", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "0.0000", "email": "dombot11@hotmail.com", "first_name": "dominic", "last_credit_purchase_date": "2016-05-17 07:02:15+00:00", "last_credit_usage_date": "None", "last_name": "Botting", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0423520469", "resource_uri": "/api/v1/user/288/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Queensland", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "0.0000", "email": "oliviamarie.rebelo@gmail.com", "first_name": "Olivia", "last_credit_purchase_date": "2016-05-10 23:53:40+00:00", "last_credit_usage_date": "None", "last_name": "Rebelo", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0457311831", "resource_uri": "/api/v1/user/281/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 6, "credit": "0.0000", "email": "hezza8389@hotmail.com", "first_name": "Heather", "last_credit_purchase_date": "2016-03-29 01:45:49+00:00", "last_credit_usage_date": "None", "last_name": "Harvey", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0424738297", "resource_uri": "/api/v1/user/247/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Queensland", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 10, "credit": "1.0000", "email": "lulal@gmail.com", "first_name": "", "last_credit_purchase_date": "2015-09-11 07:06:15+00:00", "last_credit_usage_date": "2015-09-11 07:17:23+00:00", "last_name": "", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "", "resource_uri": "/api/v1/user/102/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "lulul", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 10, "credit": "303.0000", "email": "waynejamesheldt@gmail.com", "first_name": "Wayne", "last_credit_purchase_date": "2015-08-24 06:31:17+00:00", "last_credit_usage_date": "2017-11-20 05:42:14.877868+00:00", "last_name": "Heldt", "last_purchase": 100, "ll_sms": 0, "ll_vm": 3, "lll_sms": 0, "lll_vm": 20, "lm_sms": 0, "lm_voicemail": 48, "phone": "0433118353", "resource_uri": "/api/v1/user/89/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Paying Customer", "sure_name": "Wayne Heldt", "timezone": "Australia/Perth", "voicemail": 48, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "0.0000", "email": "cahitesh_shah@yahoo.com", "first_name": "Hitesh ", "last_credit_purchase_date": "2016-12-06 19:14:19.081000+00:00", "last_credit_usage_date": "None", "last_name": "Shah ", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "+919825723400", "resource_uri": "/api/v1/user/391/", "scheduler_email_cdr_report": "daily", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 10, "credit": "0.0000", "email": "asinghal@kloudrac.com", "first_name": "Atul", "last_credit_purchase_date": "2017-03-01 10:34:40.710000+00:00", "last_credit_usage_date": "None", "last_name": "Singhal", "last_purchase": 1000, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "9990901116", "resource_uri": "/api/v1/user/435/", "scheduler_email_cdr_report": "daily", "sms": 0, "sms_mask": "", "status": "Paying Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "20.0000", "email": "3rnx99+1glsaopei968k@sharklasers.com", "first_name": "Jason", "last_credit_purchase_date": "2016-05-08 07:08:21+00:00", "last_credit_usage_date": "None", "last_name": "Dong", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0424301361", "resource_uri": "/api/v1/user/278/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "20.0000", "email": "Aaron@sharklasers.com", "first_name": "Aaron", "last_credit_purchase_date": "2016-07-13 01:20:08+00:00", "last_credit_usage_date": "None", "last_name": "Swanson", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "15102397833", "resource_uri": "/api/v1/user/318/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "US/Pacific", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "99.0000", "email": "abarnes@go1.com", "first_name": "", "last_credit_purchase_date": "2015-04-19 21:16:48+00:00", "last_credit_usage_date": "2017-01-12 03:19:28.797762+00:00", "last_name": "", "last_purchase": 100, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "", "resource_uri": "/api/v1/user/62/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Paying Customer", "sure_name": "Andrew B", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "20.0000", "email": "abbeyrubi@hotmail.com", "first_name": "abbey", "last_credit_purchase_date": "2017-02-15 00:36:01.329000+00:00", "last_credit_usage_date": "None", "last_name": "rubiolo", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0422186677", "resource_uri": "/api/v1/user/428/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 10, "credit": "12.0000", "email": "abru4927@gmail.com", "first_name": "Ash", "last_credit_purchase_date": "2016-04-21 08:13:55+00:00", "last_credit_usage_date": "2016-05-08 08:10:50+00:00", "last_name": "", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "", "resource_uri": "/api/v1/user/270/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "20.0000", "email": "adamconroy05@bigpond.com", "first_name": "Adam", "last_credit_purchase_date": "2017-01-04 10:31:24.150000+00:00", "last_credit_usage_date": "None", "last_name": "Conroy", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "", "resource_uri": "/api/v1/user/410/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "8.0000", "email": "adamgbaker232@gmail.com", "first_name": "Adam", "last_credit_purchase_date": "2016-04-15 01:16:14+00:00", "last_credit_usage_date": "2016-04-15 01:55:22+00:00", "last_name": "Bakee", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0432419403", "resource_uri": "/api/v1/user/263/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/West", "voicemail": 0, "weekly_low_balance_notification": false}]}';
                Blob headerValue = Blob.valueOf( username + ':' + password);
            
            String authorizationHeader = 'Basic ' +
                EncodingUtil.base64Encode(headerValue);
            String contentType = 'application/x-www-form-urlencoded' ;
            HttpResponse resp = new HttpResponse();
            
            resp.setHeader('Authorization', authorizationHeader);
            resp.setHeader('Content-Type', contentType);
            resp.setStatusCode(200);
            resp.setBody(body);
            return resp;
        }else{
            String username = 'thanhtruong217@gmail.com';
            String password = 'admin12!';
            String body = '{"meta": {"limit": 20, "next": "/api/v1/user/?offset=20&limit=20&format=json", "offset": 0, "previous": null, "total_count": 389}, "objects": [{"address": "", "company": "", "concurrent_call_limit": 8, "credit": "13.0000", "email": "mark.richards@marxtecxcxchnology.com.au", "first_name": "Mark", "last_credit_purchase_date": "2016-12-12 11:17:20.177000+00:00", "last_credit_usage_date": "2017-09-19 04:38:40.153127+00:00", "last_name": "Richards", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 739, "lm_sms": 0, "lm_voicemail": 0, "phone": "0416828575", "resource_uri": "/api/v1/user/397/", "scheduler_email_cdr_report": "daily", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "7/39 Addison Road", "company": "Aconference Pty Ltd", "concurrent_call_limit": 10, "credit": "538.0000", "email": "nick@meetingtime.com.au", "first_name": "Nick", "last_credit_purchase_date": "2015-04-25 03:43:30+00:00", "last_credit_usage_date": "2017-12-05 06:42:53.175642+00:00", "last_name": "", "last_purchase": 1000, "ll_sms": 0, "ll_vm": 4341, "lll_sms": 0, "lll_vm": 4672, "lm_sms": 0, "lm_voicemail": 39, "phone": "280063522", "resource_uri": "/api/v1/user/39/", "scheduler_email_cdr_report": "daily", "sms": 0, "sms_mask": "PenCS", "status": "Paying Customer", "sure_name": "nick", "timezone": "Australia/Sydney", "voicemail": 39, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 6, "credit": "0.0000", "email": "tisustaffs@hotmail.com", "first_name": "Timmothy", "last_credit_purchase_date": "2016-03-14 23:27:42+00:00", "last_credit_usage_date": "None", "last_name": "Orr ", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0415097636", "resource_uri": "/api/v1/user/237/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "Level1, 609 Harris Street", "company": "The Entourage", "concurrent_call_limit": 15, "credit": "880.0000", "email": "keelyw@the-entourage.com.au", "first_name": "The Entourage", "last_credit_purchase_date": "2017-09-07 04:46:30.896959+00:00", "last_credit_usage_date": "2017-11-24 05:14:47.660007+00:00", "last_name": "Entourage", "last_purchase": 1000, "ll_sms": 0, "ll_vm": 24, "lll_sms": 0, "lll_vm": 872, "lm_sms": 0, "lm_voicemail": 1071, "phone": "1300496488", "resource_uri": "/api/v1/user/276/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Paying Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 1071, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "0.0000", "email": "mikael.wolfe@icloud.com", "first_name": "Mikael", "last_credit_purchase_date": "2016-09-11 20:13:53+00:00", "last_credit_usage_date": "None", "last_name": "Wolfe", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0459603411", "resource_uri": "/api/v1/user/341/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Queensland", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "0.0000", "email": "bbachman@bigscreensonthego.com", "first_name": "Brian", "last_credit_purchase_date": "2016-04-13 20:02:24+00:00", "last_credit_usage_date": "None", "last_name": "Bachman", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "21499570390", "resource_uri": "/api/v1/user/262/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "US/Central", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "0.0000", "email": "dombot11@hotmail.com", "first_name": "dominic", "last_credit_purchase_date": "2016-05-17 07:02:15+00:00", "last_credit_usage_date": "None", "last_name": "Botting", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0423520469", "resource_uri": "/api/v1/user/288/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Queensland", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "0.0000", "email": "oliviamarie.rebelo@gmail.com", "first_name": "Olivia", "last_credit_purchase_date": "2016-05-10 23:53:40+00:00", "last_credit_usage_date": "None", "last_name": "Rebelo", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0457311831", "resource_uri": "/api/v1/user/281/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 6, "credit": "0.0000", "email": "hezza8389@hotmail.com", "first_name": "Heather", "last_credit_purchase_date": "2016-03-29 01:45:49+00:00", "last_credit_usage_date": "None", "last_name": "Harvey", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0424738297", "resource_uri": "/api/v1/user/247/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Queensland", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 10, "credit": "1.0000", "email": "lulal@gmail.com", "first_name": "", "last_credit_purchase_date": "2015-09-11 07:06:15+00:00", "last_credit_usage_date": "2015-09-11 07:17:23+00:00", "last_name": "", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "", "resource_uri": "/api/v1/user/102/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "lulul", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 10, "credit": "303.0000", "email": "waynejamesheldt@gmail.com", "first_name": "Wayne", "last_credit_purchase_date": "2015-08-24 06:31:17+00:00", "last_credit_usage_date": "2017-11-20 05:42:14.877868+00:00", "last_name": "Heldt", "last_purchase": 100, "ll_sms": 0, "ll_vm": 3, "lll_sms": 0, "lll_vm": 20, "lm_sms": 0, "lm_voicemail": 48, "phone": "0433118353", "resource_uri": "/api/v1/user/89/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Paying Customer", "sure_name": "Wayne Heldt", "timezone": "Australia/Perth", "voicemail": 48, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "0.0000", "email": "cahitesh_shah@yahoo.com", "first_name": "Hitesh ", "last_credit_purchase_date": "2016-12-06 19:14:19.081000+00:00", "last_credit_usage_date": "None", "last_name": "Shah ", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "+919825723400", "resource_uri": "/api/v1/user/391/", "scheduler_email_cdr_report": "daily", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 10, "credit": "0.0000", "email": "asinghal@kloudrac.com", "first_name": "Atul", "last_credit_purchase_date": "2017-03-01 10:34:40.710000+00:00", "last_credit_usage_date": "None", "last_name": "Singhal", "last_purchase": 1000, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "9990901116", "resource_uri": "/api/v1/user/435/", "scheduler_email_cdr_report": "daily", "sms": 0, "sms_mask": "", "status": "Paying Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "20.0000", "email": "3rnx99+1glsaopei968k@sharklasers.com", "first_name": "Jason", "last_credit_purchase_date": "2016-05-08 07:08:21+00:00", "last_credit_usage_date": "None", "last_name": "Dong", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0424301361", "resource_uri": "/api/v1/user/278/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "20.0000", "email": "Aaron@sharklasers.com", "first_name": "Aaron", "last_credit_purchase_date": "2016-07-13 01:20:08+00:00", "last_credit_usage_date": "None", "last_name": "Swanson", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "15102397833", "resource_uri": "/api/v1/user/318/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "US/Pacific", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "99.0000", "email": "abarnes@go1.com", "first_name": "", "last_credit_purchase_date": "2015-04-19 21:16:48+00:00", "last_credit_usage_date": "2017-01-12 03:19:28.797762+00:00", "last_name": "", "last_purchase": 100, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "", "resource_uri": "/api/v1/user/62/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Paying Customer", "sure_name": "Andrew B", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "20.0000", "email": "abbeyrubi@hotmail.com", "first_name": "abbey", "last_credit_purchase_date": "2017-02-15 00:36:01.329000+00:00", "last_credit_usage_date": "None", "last_name": "rubiolo", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0422186677", "resource_uri": "/api/v1/user/428/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 10, "credit": "12.0000", "email": "abru4927@gmail.com", "first_name": "Ash", "last_credit_purchase_date": "2016-04-21 08:13:55+00:00", "last_credit_usage_date": "2016-05-08 08:10:50+00:00", "last_name": "", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "", "resource_uri": "/api/v1/user/270/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "20.0000", "email": "adamconroy05@bigpond.com", "first_name": "Adam", "last_credit_purchase_date": "2017-01-04 10:31:24.150000+00:00", "last_credit_usage_date": "None", "last_name": "Conroy", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "", "resource_uri": "/api/v1/user/410/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/Sydney", "voicemail": 0, "weekly_low_balance_notification": false}, {"address": "", "company": "", "concurrent_call_limit": 8, "credit": "8.0000", "email": "adamgbaker232@gmail.com", "first_name": "Adam", "last_credit_purchase_date": "2016-04-15 01:16:14+00:00", "last_credit_usage_date": "2016-04-15 01:55:22+00:00", "last_name": "Bakee", "last_purchase": 20, "ll_sms": 0, "ll_vm": 0, "lll_sms": 0, "lll_vm": 0, "lm_sms": 0, "lm_voicemail": 0, "phone": "0432419403", "resource_uri": "/api/v1/user/263/", "scheduler_email_cdr_report": "", "sms": 0, "sms_mask": "", "status": "Trial Customer", "sure_name": "", "timezone": "Australia/West", "voicemail": 0, "weekly_low_balance_notification": false}]}';
                Blob headerValue = Blob.valueOf( username + ':' + password);
            
            String authorizationHeader = 'Basic ' +
                EncodingUtil.base64Encode(headerValue);
            String contentType = 'application/x-www-form-urlencoded' ;
            HttpResponse resp = new HttpResponse();
            
            resp.setHeader('Authorization', authorizationHeader);
            resp.setHeader('Content-Type', contentType);
            resp.setStatusCode(200);
            resp.setBody(body);
            
            return resp;    
        }
        
    }
    
}